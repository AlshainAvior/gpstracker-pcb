EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:custom-charge
LIBS:battery_management
LIBS:switches
LIBS:gpstracker-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L ATMEGA328P-AU U1
U 1 1 59A2B62B
P 5500 4450
F 0 "U1" H 4750 5700 50  0000 L BNN
F 1 "ATMEGA328P-AU" H 5900 3050 50  0000 L BNN
F 2 "TQFP32" H 5500 4450 50  0001 C CIN
F 3 "" H 5500 4450 50  0001 C CNN
	1    5500 4450
	1    0    0    -1  
$EndComp
Text Notes 8550 800  0    120  ~ 24
Battery charger
$Comp
L C C?
U 1 1 59A2CCEB
P 8500 1650
F 0 "C?" H 8525 1750 50  0000 L CNN
F 1 "4.7uF" H 8525 1550 50  0000 L CNN
F 2 "" H 8538 1500 50  0001 C CNN
F 3 "" H 8500 1650 50  0001 C CNN
	1    8500 1650
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 59A2CDFC
P 10400 2000
F 0 "C?" H 10425 2100 50  0000 L CNN
F 1 "4.7uF" H 10425 1900 50  0000 L CNN
F 2 "" H 10438 1850 50  0001 C CNN
F 3 "" H 10400 2000 50  0001 C CNN
	1    10400 2000
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 59A2CE67
P 8900 2150
F 0 "R?" V 8980 2150 50  0000 C CNN
F 1 "R" V 8900 2150 50  0000 C CNN
F 2 "" V 8830 2150 50  0001 C CNN
F 3 "" H 8900 2150 50  0001 C CNN
	1    8900 2150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 59A2CECC
P 8900 2400
F 0 "#PWR?" H 8900 2150 50  0001 C CNN
F 1 "GND" H 8900 2250 50  0000 C CNN
F 2 "" H 8900 2400 50  0001 C CNN
F 3 "" H 8900 2400 50  0001 C CNN
	1    8900 2400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 59A2CEED
P 10400 2250
F 0 "#PWR?" H 10400 2000 50  0001 C CNN
F 1 "GND" H 10400 2100 50  0000 C CNN
F 2 "" H 10400 2250 50  0001 C CNN
F 3 "" H 10400 2250 50  0001 C CNN
	1    10400 2250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 59A2CF07
P 9400 2200
F 0 "#PWR?" H 9400 1950 50  0001 C CNN
F 1 "GND" H 9400 2050 50  0000 C CNN
F 2 "" H 9400 2200 50  0001 C CNN
F 3 "" H 9400 2200 50  0001 C CNN
	1    9400 2200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 59A2CFA6
P 9900 2700
F 0 "#PWR?" H 9900 2450 50  0001 C CNN
F 1 "GND" H 9900 2550 50  0000 C CNN
F 2 "" H 9900 2700 50  0001 C CNN
F 3 "" H 9900 2700 50  0001 C CNN
	1    9900 2700
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 59A2CFC5
P 10050 1900
F 0 "R?" V 10130 1900 50  0000 C CNN
F 1 "470R" V 10050 1900 50  0000 C CNN
F 2 "" V 9980 1900 50  0001 C CNN
F 3 "" H 10050 1900 50  0001 C CNN
	1    10050 1900
	0    -1   -1   0   
$EndComp
$Comp
L LED D?
U 1 1 59A2D0D5
P 10000 1400
F 0 "D?" H 10000 1500 50  0000 C CNN
F 1 "LED" H 10000 1300 50  0000 C CNN
F 2 "" H 10000 1400 50  0001 C CNN
F 3 "" H 10000 1400 50  0001 C CNN
	1    10000 1400
	-1   0    0    1   
$EndComp
Wire Wire Line
	9800 1700 10400 1700
Wire Wire Line
	10400 1700 10550 1700
Connection ~ 10400 1700
Wire Wire Line
	9400 1400 9400 1500
Text Label 8300 1400 0    60   ~ 0
VIN
$Comp
L R R?
U 1 1 59A3118C
P 9900 2050
F 0 "R?" V 9980 2050 50  0000 C CNN
F 1 "1k" V 9900 2050 50  0000 C CNN
F 2 "" V 9830 2050 50  0001 C CNN
F 3 "" H 9900 2050 50  0001 C CNN
	1    9900 2050
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 59A311D1
P 9900 2450
F 0 "D?" H 9900 2550 50  0000 C CNN
F 1 "LED" H 9900 2350 50  0000 C CNN
F 2 "" H 9900 2450 50  0001 C CNN
F 3 "" H 9900 2450 50  0001 C CNN
	1    9900 2450
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR?
U 1 1 59A31622
P 8500 1900
F 0 "#PWR?" H 8500 1650 50  0001 C CNN
F 1 "GND" H 8500 1750 50  0000 C CNN
F 2 "" H 8500 1900 50  0001 C CNN
F 3 "" H 8500 1900 50  0001 C CNN
	1    8500 1900
	1    0    0    -1  
$EndComp
$Comp
L +BATT #PWR?
U 1 1 59A350C2
P 10550 1700
F 0 "#PWR?" H 10550 1550 50  0001 C CNN
F 1 "+BATT" H 10550 1840 50  0000 C CNN
F 2 "" H 10550 1700 50  0001 C CNN
F 3 "" H 10550 1700 50  0001 C CNN
	1    10550 1700
	1    0    0    -1  
$EndComp
Text Notes 7550 1100 0    60   ~ 0
Needs modifications for load sharing, as a starting point see :\nsee http://blog.zakkemble.co.uk/a-lithium-battery-charger-with-load-sharing/ 
$Comp
L R R?
U 1 1 59A361E6
P 7050 4800
F 0 "R?" V 7130 4800 50  0000 C CNN
F 1 "470R" V 7050 4800 50  0000 C CNN
F 2 "" V 6980 4800 50  0001 C CNN
F 3 "" H 7050 4800 50  0001 C CNN
	1    7050 4800
	0    1    1    0   
$EndComp
$Comp
L C C?
U 1 1 59A3625C
P 7600 4800
F 0 "C?" H 7625 4900 50  0000 L CNN
F 1 "4.7uF" H 7625 4700 50  0000 L CNN
F 2 "" H 7638 4650 50  0001 C CNN
F 3 "" H 7600 4800 50  0001 C CNN
	1    7600 4800
	0    -1   -1   0   
$EndComp
$Comp
L SW_Push_Dual_x2 SW?
U 1 1 59A363CE
P 7300 5100
F 0 "SW?" H 7350 5200 50  0000 L CNN
F 1 "Reset" H 7300 5040 50  0000 C CNN
F 2 "" H 7300 5300 50  0001 C CNN
F 3 "" H 7300 5300 50  0001 C CNN
	1    7300 5100
	0    1    1    0   
$EndComp
$Comp
L MCP73832-5-OT U?
U 1 1 59A36575
P 9400 1800
F 0 "U?" H 9100 2050 50  0000 L CNN
F 1 "MCP73832-5-OT" H 9450 2050 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-23-5" H 9450 1550 50  0001 L CIN
F 3 "" H 9250 1750 50  0001 C CNN
	1    9400 1800
	1    0    0    -1  
$EndComp
Connection ~ 8500 1400
Wire Wire Line
	8300 1400 8500 1400
Wire Wire Line
	8500 1400 9400 1400
Wire Wire Line
	9400 1400 9850 1400
Wire Wire Line
	9800 1900 9900 1900
Connection ~ 9400 1400
Wire Wire Line
	10150 1400 10300 1400
Wire Wire Line
	9900 2300 9900 2200
Wire Wire Line
	9900 2700 9900 2600
Wire Wire Line
	10400 2250 10400 2150
Wire Wire Line
	10400 1850 10400 1700
Wire Wire Line
	8500 1900 8500 1800
Wire Wire Line
	8500 1500 8500 1400
Wire Wire Line
	9000 1900 8900 1900
Wire Wire Line
	8900 1900 8900 2000
Wire Wire Line
	8900 2400 8900 2300
Wire Wire Line
	9400 2200 9400 2100
Wire Wire Line
	10200 1900 10300 1900
Wire Wire Line
	10300 1900 10300 1400
Wire Wire Line
	6500 4800 6900 4800
$Comp
L VCC #PWR?
U 1 1 59A378FB
P 7300 4700
F 0 "#PWR?" H 7300 4550 50  0001 C CNN
F 1 "VCC" H 7300 4850 50  0000 C CNN
F 2 "" H 7300 4700 50  0001 C CNN
F 3 "" H 7300 4700 50  0001 C CNN
	1    7300 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7200 4800 7300 4800
Wire Wire Line
	7300 4800 7450 4800
Wire Wire Line
	7300 4700 7300 4800
Wire Wire Line
	7300 4800 7300 4900
Connection ~ 7300 4800
Wire Wire Line
	7750 4800 7900 4800
Text Label 7900 4800 2    60   ~ 0
DTR
$Comp
L GND #PWR?
U 1 1 59A381AA
P 7300 5400
F 0 "#PWR?" H 7300 5150 50  0001 C CNN
F 1 "GND" H 7300 5250 50  0000 C CNN
F 2 "" H 7300 5400 50  0001 C CNN
F 3 "" H 7300 5400 50  0001 C CNN
	1    7300 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7300 5300 7300 5400
$EndSCHEMATC
